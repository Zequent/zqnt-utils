syntax = "proto3";
import "common.proto";
import "google/protobuf/empty.proto";
import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_package = "com.zequent.framework.services.remote.proto";
option java_outer_classname = "RemoteControlProto";
option go_package = "zequent/framework/gen/proto";

// Note: Most messages are now in common.proto for reuse across services
// This file only contains service-specific wrapper messages

// ========== BASE MESSAGES ==========



message RemoteControlResponse {
  optional bool hasErrors = 1;
  string tid = 2;
  string sn = 3;
  optional string assetId = 4;
  google.protobuf.Timestamp timestamp = 5;
  optional string responseMessage = 6;
  oneof response {
    google.protobuf.Empty empty = 7;
    GlobalErrorMessage error = 8;
    CommandProgress progress = 9;
  }
}

// ========== SPECIFIC REQUEST MESSAGES ==========

message RemoteControlTakeOffRequest {
  RequestBase base = 1;
  Coordinates request = 2;
}

message RemoteControlGoToRequest {
  RequestBase base = 1;
  Coordinates request = 2;
}

message RemoteControlReturnToHomeRequest {
  RequestBase base = 1;
  ReturnToHomeRequest request = 2;
}

message RemoteControlManualControlRequest {
  RequestBase base = 1;
  ManualControlRequest request = 2;
}

message RemoteControlManualControlInputRequest {
  RequestBase base = 1;
  ManualControlInput request = 2;
}

message RemoteControlLookAtRequest {
  RequestBase base = 1;
  Coordinates request = 2;
}

message RemoteControlDetectionRequest {
  RequestBase base = 1;
  DetectionControlRequest request = 2;
}

message RemoteControlChangeCameraLensRequest {
  RequestBase base = 1;
  ChangeCameraLensRequest request = 2;
}

message RemoteControlChangeCameraZoomRequest {
  RequestBase base = 1;
  ChangeCameraZoomRequest request = 2;
}

message RemoteControlOpenCoverRequest{
  RequestBase base = 1;
}

message RemoteControlCloseCoverRequest{
  RequestBase base = 1;
  optional bool force = 2;
}


message RemoteControlStartChargingRequest{
  RequestBase base = 1;
}

message RemoteControlStopChargingRequest{
  RequestBase base = 1;
}

message RemoteControlRebootAssetRequest{
  RequestBase base = 1;
}

message RemoteControlBootSubAssetRequest{
  RequestBase base = 1;
  bool boot = 2;
}


message RemoteControlDebugModeRequest{
  RequestBase base = 1;
  bool enabled = 2;
}

message RemoteControlExitDebugModeRequest{
  RequestBase base = 1;
}

message RemoteControlChangeAcModeRequest{
  RequestBase base = 1;
}


// ========== SERVICE ==========

service RemoteControlService {
  // Flight Control
  rpc TakeOff(RemoteControlTakeOffRequest) returns (RemoteControlResponse);
  rpc GoTo(RemoteControlGoToRequest) returns (RemoteControlResponse);
  rpc ReturnToHome(RemoteControlReturnToHomeRequest) returns (RemoteControlResponse);

  // Manual Control
  rpc EnterManualControl(RemoteControlManualControlRequest) returns (RemoteControlResponse);
  rpc ExitManualControl(RemoteControlManualControlRequest) returns (RemoteControlResponse);
  rpc ManualControlInput(stream RemoteControlManualControlInputRequest) returns (RemoteControlResponse);
  rpc LookAt(RemoteControlLookAtRequest) returns (RemoteControlResponse);


  // Dock Specific Operations
  rpc OpenCover(RemoteControlOpenCoverRequest) returns (RemoteControlResponse);
  rpc CloseCover(RemoteControlCloseCoverRequest) returns (RemoteControlResponse);
  rpc StartCharging(RemoteControlStartChargingRequest) returns (RemoteControlResponse);
  rpc StopCharging(RemoteControlStopChargingRequest) returns (RemoteControlResponse);

  // Asset Management
  rpc RebootAsset(RemoteControlRebootAssetRequest) returns (RemoteControlResponse);
  rpc BootSubAsset(RemoteControlBootSubAssetRequest) returns (RemoteControlResponse);

  // Debug & Maintenance
  rpc EnterOrCloseRemoteDebugMode(RemoteControlDebugModeRequest) returns (RemoteControlResponse);
  rpc ChangeAcMode(RemoteControlChangeAcModeRequest) returns (RemoteControlResponse);

}

